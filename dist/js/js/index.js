"use strict";function change(e){if(1==flag){flag=!1;var t=document.querySelectorAll(".buildSon");console.log(t[i-1],t.length),i-1==this.id?(num.innerText=Number(num.innerText)+1,level.style.left="0px",level.style.transition="all 0.7s ease-out"):(t[t.length-1].addEventListener("animationend",function(){alert("游戏结束"),over.style.display="block"}),t[t.length-1].style.animation="flash 2s")}}function innerHtml(){function e(t,n,l){for(var a=n+t>375||l+t>600,o="",s=0;s<arrD.length;s++)arrX[s]<n+t&n<arrX[s]+arrD[s]&arrY[s]<l+t&l<arrY[s]+arrD[s]?(o=!0,s=arrD.length):o=!1;if(a||o){var t=Math.floor(50*Math.random()+10),n=Math.floor(375*Math.random()),l=Math.floor(600*Math.random());e(t,n,l)}else r[i].style.width=t+"px",r[i].style.height=t+"px",r[i].style.left=n+"px",r[i].style.top=l+"px",i++,arrD.push(t),arrX.push(n),arrY.push(l)}var t=Math.floor(50*Math.random()+10),n=Math.floor(375*Math.random()),l=Math.floor(600*Math.random());container.innerHTML+='<div class="buildSon" id='.concat(i,"><div>");for(var r=document.getElementsByClassName("buildSon"),a=0;a<r.length;a++)r[a].onclick=change;e(t,n,l)}var start_wrapper=document.querySelector("#start_wrapper"),start=document.querySelector("#start"),level=document.querySelector("#level"),num=document.querySelector("#number");start.addEventListener("click",function(){start_wrapper.style.display="none",level.style.left="-375px",level.style.transition="all 0.7s ease-out"}),level.addEventListener("transitionend",function(){level.style.transition="none",level.style.left="375px",innerHtml(),flag=!0,(i>=2||0==flag)&&(flag=!0,level.style.animation="toleft 1.2s ")}),level.addEventListener("animationend",function(){level.style.animation="none"});var flag=!0;again.addEventListener("click",function(){over.style.display="none",start_wrapper.style.display="block",num.innerText="1",container.innerHTML="",level.style.left="0px",i=0});var box=document.getElementById("box"),container=document.querySelector("#container"),i=0,arrD=[],arrX=[],arrY=[];
//# sourceMappingURL=index.js.map
